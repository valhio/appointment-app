<a class="flex justify-center w-10/12 md:w-52 mx-auto m-4 rounded border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:outline-none focus:ring active:text-indigo-500"
    (click)="logout()">
    LOGOUT
</a>


<div
    class="mx-auto max-w-5xl flex justify-center text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700">
    <ul class="flex flex-wrap -mb-px">
        <li class="mr-2">
            <a (click)="activeTab = 'date-settings'"
                [class]="activeTab === 'date-settings' ? 'inline-block p-4 text-blue-600 border-b-2 border-blue-600 rounded-t-lg active dark:text-blue-500 dark:border-blue-500' : 'inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'">
                Date Settings</a>
        </li>
        <li class="mr-2">
            <a (click)="activeTab = 'booking-form'"
                [class]="activeTab === 'booking-form' ? 'inline-block p-4 text-blue-600 border-b-2 border-blue-600 rounded-t-lg active dark:text-blue-500 dark:border-blue-500' : 'inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'">
                Booking Form</a>
        </li>
        <li class="mr-2">
            <a (click)="activeTab = 'notifications'"
                [class]="activeTab === 'notifications' ? 'inline-block p-4 text-blue-600 border-b-2 border-blue-600 rounded-t-lg active dark:text-blue-500 dark:border-blue-500' : 'inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'">
                Notifications</a>
        </li>
    </ul>

</div>
<div [ngSwitch]="activeTab">
    <app-booking-form-management *ngSwitchCase="'date-settings'"></app-booking-form-management>
    <app-booking-form-management *ngSwitchCase="'booking-form'"></app-booking-form-management>
    <app-booking-form-management *ngSwitchCase="'notifications'"></app-booking-form-management>
</div>


<app-booking-form-management></app-booking-form-management>

<div class="flex items-center justify-center px-4 pb-2">
    <div class="max-w-4xl w-full shadow-lg">
        <div class="md:p-4 p-1 dark:bg-gray-800 bg-white rounded-t">
            <app-calendar-header [currentDate]="selectedDate$ | async" (navigateNext)="onNavigateNextMonth()"
                (navigatePrevious)="onNavigatePreviousMonth()"></app-calendar-header>
            <app-management-calendar-body [calendarMatrix]="calendar" [selectedDate]="selectedDate$ | async"
                (showBookingHoursEvent)="onShowBookingHours($event)"
                (changeSelectedDate)="onChangeSelectedDate($event)"></app-management-calendar-body>
        </div>
        <app-management-booking-hours [dayData$]="currentDateData$" [currentDate]="selectedDate$ | async"
            [showBookingHours]="showBookingHours" (changes)="onChanges()"></app-management-booking-hours>
    </div>
</div>

<ng-container *ngIf="bookingsForSelectedDate$ | async as bookings">
    <ng-container *ngFor="let booking of bookings">
        <div class="md:flex md:justify-between m-4">
            <div>
                <p>Име: {{booking.firstName}} {{booking.lastName}}</p>
                <p>Телефон: {{booking.phone}}</p>
                <p>Регистрационен номер: {{booking.registrationNumber}}</p>
                <p>Категория: {{getCategory(booking.vehicleCategory)}}</p>
                <p>Услуга: {{booking.bookingType}}</p>
                <p>Час: {{booking.bookingTime}}</p>
                <!-- <p>Резервацията е направена на: {{booking.data.createdAt.toDate() | date :'dd-MM-yyyy MM:ss'}}</p> -->
            </div>
            <div class="flex justify-center">
                <button type="button" *ngIf="selectedDate$ | async as selected"
                    class="block my-4 p-8 max-h-10 mx-1 border border-gray-300 font-medium rounded-lg text-xs md:text-sm py-2.5 'bg-white text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200'"
                    (click)="updateBookingDialog(booking.bookingTime, booking)">Update</button>
                <button type="button" *ngIf="selectedDate$ | async as selected"
                    class="block my-4 p-8 max-h-10 mx-1 border border-gray-300 font-medium rounded-lg text-xs md:text-sm py-2.5 'bg-white text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200'"
                    (click)="deleteBooking(selected,booking.bookingTime)">Delete</button>
            </div>
        </div>
        <hr class="h-px my-4 bg-gray-200 border-0 dark:bg-gray-700">
    </ng-container>
</ng-container>