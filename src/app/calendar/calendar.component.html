<div class="flex items-center justify-center py-8 px-4">
    <div class="max-w-4xl w-full shadow-lg">
        <div class="md:p-8 p-1 dark:bg-gray-800 bg-white rounded-t">
            <app-calendar-header [currentDate]="selectedDate$ | async" (navigateNext)="onNavigateNextMonth()" (navigatePrevious)="onNavigatePreviousMonth()" ></app-calendar-header>
            <app-calendar-body [calendarMatrix]="calendar" [currentDate]="selectedDate$ | async" (changeSelectedDate)="onChangeSelectedDate($event)"></app-calendar-body>
        </div>
        <app-booking-hours [currentDate]="selectedDate$ | async" [bookingHours]="bookingHours" [bookedBookings]="bookedBookings"></app-booking-hours>
    </div>
</div>

<ng-container *ngIf="bookingsForSelectedDate$ | async as bookings">
    <ng-container *ngFor="let booking of bookings">
        <div class="md:flex md:justify-between m-4">
            <div>
                <p>Име: {{booking.firstName}} {{booking.lastName}}</p>
                <p>Телефон: {{booking.phone}}</p>
                <p>Регистрационен номер: {{booking.registrationNumber}}</p>
                <p>Категория: {{booking.vehicleCategory}}</p>
                <p>Услуга: {{booking.bookingType}}</p>
                <p>Час: {{booking.bookingTime}}</p>
                <!-- <p>Резервацията е направена на: {{booking.data.createdAt.toDate() | date :'dd-MM-yyyy MM:ss'}}</p> -->
            </div>
            <div class="flex justify-center">
                <button type="button" *ngIf="selectedDate$ | async as selected"
                    class="block my-4 p-8 max-h-10 mx-1 border border-gray-300 font-medium rounded-lg text-xs md:text-sm py-2.5 'bg-white text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200'"
                    (click)="updateBookingDialog(booking.key, booking)">Update</button>
                <button type="button" *ngIf="selectedDate$ | async as selected"
                    class="block my-4 p-8 max-h-10 mx-1 border border-gray-300 font-medium rounded-lg text-xs md:text-sm py-2.5 'bg-white text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200'"
                    (click)="deleteBooking(selected,booking.key)">Delete</button>
            </div>
        </div>
        <hr class="h-px my-4 bg-gray-200 border-0 dark:bg-gray-700">
    </ng-container>
</ng-container>
<!-- <h1 class="flex justify-center">9ти Февруари 2023 съдържа данни, намиращи се в база от данни.</h1> -->
<!-- <button type="button"
    class="flex my-4 p-8 mx-auto border border-gray-300 font-medium rounded-lg text-xs md:text-sm py-2.5 'bg-white text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200'"
    (click)="getBookingsForDateFromDb()">Get bookings from database for {{selectedDate$ | async | date:
    'dd-MM-yyyy'}}</button>

<button type="button"
    class="flex my-4 p-8 mx-auto border border-gray-300 font-medium rounded-lg text-xs md:text-sm py-2.5 'bg-white text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200'"
    (click)="getBookingsForSelectedDate()">Get bookings for selected date</button> -->
